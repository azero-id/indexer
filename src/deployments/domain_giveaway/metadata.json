{"source":{"hash":"0xf1027ffeab36191da0a8ef8ac48e8423d29f159428a98fcba279588761c468e2","language":"ink! 4.2.1","compiler":"rustc 1.68.0-nightly","build_info":{"build_mode":"Release","cargo_contract_version":"3.0.1","rust_toolchain":"nightly-aarch64-apple-darwin","wasm_opt_settings":{"keep_debug_symbols":false,"optimization_passes":"Z"}}},"contract":{"name":"domain_giveaway","version":"0.1.0","authors":["AZERO.ID <hello@azero.id>"]},"spec":{"constructors":[{"args":[{"label":"admin","type":{"displayName":["AccountId"],"type":0}},{"label":"registry_addr","type":{"displayName":["AccountId"],"type":0}},{"label":"coupon_merkle_root","type":{"displayName":["MerkleHash"],"type":1}},{"label":"secret_merkle_root","type":{"displayName":["MerkleHash"],"type":1}}],"default":false,"docs":[],"label":"new","payable":false,"returnType":{"displayName":["ink_primitives","ConstructorResult"],"type":5},"selector":"0x9bae9d5e"}],"docs":[],"environment":{"accountId":{"displayName":["AccountId"],"type":0},"balance":{"displayName":["Balance"],"type":25},"blockNumber":{"displayName":["BlockNumber"],"type":28},"chainExtension":{"displayName":["ChainExtension"],"type":29},"hash":{"displayName":["Hash"],"type":27},"maxEventTopics":4,"timestamp":{"displayName":["Timestamp"],"type":4}},"events":[{"args":[{"docs":[],"indexed":true,"label":"coupon","type":{"displayName":["String"],"type":3}},{"docs":[],"indexed":false,"label":"name","type":{"displayName":["String"],"type":3}}],"docs":[],"label":"Reserved"},{"args":[{"docs":[],"indexed":true,"label":"coupon","type":{"displayName":["String"],"type":3}},{"docs":[],"indexed":false,"label":"claimed_by","type":{"displayName":["AccountId"],"type":0}}],"docs":[],"label":"Claimed"}],"lang_error":{"displayName":["ink","LangError"],"type":7},"messages":[{"args":[],"default":false,"docs":[],"label":"get_registry_address","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":8},"selector":"0x915381d6"},{"args":[],"default":false,"docs":[],"label":"get_merkle_roots","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":9},"selector":"0x09d3f510"},{"args":[{"label":"coupon_code","type":{"displayName":["String"],"type":3}}],"default":false,"docs":[],"label":"get_coupon_record","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":11},"selector":"0x8b923c06"},{"args":[{"label":"coupon_codes","type":{"displayName":["Vec"],"type":16}}],"default":false,"docs":[],"label":"get_coupon_status","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":17},"selector":"0x898ef7c2"},{"args":[],"default":false,"docs":[],"label":"fund_me","mutates":true,"payable":true,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0x0848523c"},{"args":[{"label":"name","type":{"displayName":["String"],"type":3}},{"label":"coupon_code","type":{"displayName":["String"],"type":3}},{"label":"proof","type":{"displayName":["Vec"],"type":23}}],"default":false,"docs":[],"label":"reserve_name","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xdc508574"},{"args":[{"label":"coupon_code","type":{"displayName":["String"],"type":3}},{"label":"secret_code","type":{"displayName":["String"],"type":3}},{"label":"proof","type":{"displayName":["Vec"],"type":23}},{"label":"receiver","type":{"displayName":["Option"],"type":24}}],"default":false,"docs":[],"label":"claim_name","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0x680a1ae8"},{"args":[{"label":"name","type":{"displayName":["String"],"type":3}},{"label":"coupon_code","type":{"displayName":["String"],"type":3}},{"label":"secret_code","type":{"displayName":["String"],"type":3}},{"label":"proof","type":{"displayName":["Vec"],"type":23}},{"label":"receiver","type":{"displayName":["Option"],"type":24}}],"default":false,"docs":[],"label":"reserve_and_claim_name","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xc9e73722"},{"args":[{"label":"new_registry_addr","type":{"displayName":["AccountId"],"type":0}}],"default":false,"docs":[],"label":"set_registry_address","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xa1c25889"},{"args":[{"label":"new_root_hash","type":{"displayName":["MerkleHash"],"type":1}}],"default":false,"docs":[],"label":"set_coupon_merkle_root","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0x185902ec"},{"args":[{"label":"new_root_hash","type":{"displayName":["MerkleHash"],"type":1}}],"default":false,"docs":[],"label":"set_secret_merkle_root","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xd105cb0f"},{"args":[{"label":"beneficiary","type":{"displayName":["Option"],"type":24}},{"label":"amount","type":{"displayName":["Balance"],"type":25}}],"default":false,"docs":[],"label":"withdraw_funds","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xe7cda623"},{"args":[],"default":false,"docs":[],"label":"get_admin","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":8},"selector":"0x57b8a8a7"},{"args":[],"default":false,"docs":[],"label":"get_pending_admin","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":26},"selector":"0xbcd31d76"},{"args":[{"label":"account","type":{"displayName":["Option"],"type":24}}],"default":false,"docs":[],"label":"transfer_ownership","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0x107e33ea"},{"args":[],"default":false,"docs":[],"label":"accept_ownership","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":20},"selector":"0xb55be9f0"},{"args":[{"label":"code_hash","type":{"displayName":[],"type":1}}],"default":false,"docs":[],"label":"upgrade_contract","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":5},"selector":"0x1345543d"}]},"storage":{"root":{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"admin"},{"layout":{"enum":{"dispatchKey":"0x00000000","name":"Option","variants":{"0":{"fields":[],"name":"None"},"1":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"0"}],"name":"Some"}}}},"name":"pending_admin"},{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"registry_addr"},{"layout":{"array":{"layout":{"leaf":{"key":"0x00000000","ty":2}},"len":32,"offset":"0x00000000"}},"name":"coupon_merkle_root"},{"layout":{"array":{"layout":{"leaf":{"key":"0x00000000","ty":2}},"len":32,"offset":"0x00000000"}},"name":"secret_merkle_root"},{"layout":{"root":{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000064","ty":3}},"name":"name"},{"layout":{"enum":{"dispatchKey":"0x00000064","name":"Option","variants":{"0":{"fields":[],"name":"None"},"1":{"fields":[{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000064","ty":0}},"name":"0"},{"layout":{"leaf":{"key":"0x00000064","ty":4}},"name":"1"}],"name":"(A, B)"}},"name":"0"}],"name":"Some"}}}},"name":"claimed_by"},{"layout":{"leaf":{"key":"0x00000064","ty":4}},"name":"reserve_timestamp"}],"name":"CouponRecord"}},"root_key":"0x00000064"}},"name":"coupon_to_record"}],"name":"DomainGiveaway"}},"root_key":"0x00000000"}},"types":[{"id":0,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","AccountId"]}},{"id":1,"type":{"def":{"array":{"len":32,"type":2}}}},{"id":2,"type":{"def":{"primitive":"u8"}}},{"id":3,"type":{"def":{"primitive":"str"}}},{"id":4,"type":{"def":{"primitive":"u64"}}},{"id":5,"type":{"def":{"variant":{"variants":[{"fields":[{"type":6}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":6},{"name":"E","type":7}],"path":["Result"]}},{"id":6,"type":{"def":{"tuple":[]}}},{"id":7,"type":{"def":{"variant":{"variants":[{"index":1,"name":"CouldNotReadInput"}]}},"path":["ink_primitives","LangError"]}},{"id":8,"type":{"def":{"variant":{"variants":[{"fields":[{"type":0}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":0},{"name":"E","type":7}],"path":["Result"]}},{"id":9,"type":{"def":{"variant":{"variants":[{"fields":[{"type":10}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":10},{"name":"E","type":7}],"path":["Result"]}},{"id":10,"type":{"def":{"tuple":[1,1]}}},{"id":11,"type":{"def":{"variant":{"variants":[{"fields":[{"type":12}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":12},{"name":"E","type":7}],"path":["Result"]}},{"id":12,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":13}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":13}],"path":["Option"]}},{"id":13,"type":{"def":{"composite":{"fields":[{"name":"name","type":3,"typeName":"String"},{"name":"claimed_by","type":14,"typeName":"Option<(AccountId, u64)>"},{"name":"reserve_timestamp","type":4,"typeName":"u64"}]}},"path":["domain_giveaway","domain_giveaway","CouponRecord"]}},{"id":14,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":15}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":15}],"path":["Option"]}},{"id":15,"type":{"def":{"tuple":[0,4]}}},{"id":16,"type":{"def":{"sequence":{"type":3}}}},{"id":17,"type":{"def":{"variant":{"variants":[{"fields":[{"type":18}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":18},{"name":"E","type":7}],"path":["Result"]}},{"id":18,"type":{"def":{"sequence":{"type":19}}}},{"id":19,"type":{"def":{"variant":{"variants":[{"index":0,"name":"NotFound"},{"fields":[{"type":3,"typeName":"String"},{"type":4,"typeName":"u64"}],"index":1,"name":"Reserved"},{"fields":[{"type":3,"typeName":"String"},{"type":4,"typeName":"u64"},{"type":4,"typeName":"u64"},{"type":0,"typeName":"AccountId"}],"index":2,"name":"Claimed"}]}},"path":["domain_giveaway","domain_giveaway","CouponStatus"]}},{"id":20,"type":{"def":{"variant":{"variants":[{"fields":[{"type":21}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":21},{"name":"E","type":7}],"path":["Result"]}},{"id":21,"type":{"def":{"variant":{"variants":[{"fields":[{"type":6}],"index":0,"name":"Ok"},{"fields":[{"type":22}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":6},{"name":"E","type":22}],"path":["Result"]}},{"id":22,"type":{"def":{"variant":{"variants":[{"index":0,"name":"NotAdmin"},{"index":1,"name":"WithdrawFailed"},{"index":2,"name":"InsufficientBalance"},{"index":3,"name":"InvalidProof"},{"index":4,"name":"CouponAlreadyUsed"},{"index":5,"name":"CouponRecordNotFound"},{"fields":[{"type":2,"typeName":"u8"}],"index":6,"name":"ReserveFailed"},{"fields":[{"type":2,"typeName":"u8"}],"index":7,"name":"ClaimFailed"},{"index":8,"name":"NameNotAllowed"}]}},"path":["domain_giveaway","domain_giveaway","Error"]}},{"id":23,"type":{"def":{"sequence":{"type":1}}}},{"id":24,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":0}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":0}],"path":["Option"]}},{"id":25,"type":{"def":{"primitive":"u128"}}},{"id":26,"type":{"def":{"variant":{"variants":[{"fields":[{"type":24}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":24},{"name":"E","type":7}],"path":["Result"]}},{"id":27,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","Hash"]}},{"id":28,"type":{"def":{"primitive":"u32"}}},{"id":29,"type":{"def":{"variant":{}},"path":["ink_env","types","NoChainExtension"]}}],"version":"4"}
