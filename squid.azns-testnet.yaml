manifestVersion: subsquid.io/v0.1
name: azns-testnet
version: 25
description: 'AZERO.ID Indexer (Aleph Zero Testnet)'

build:

deploy:
  addons:
    postgres:
    # rpc:
    #   - aleph-zero-testnet.http
  processor:
    cmd: ['node', 'lib/processor']
    env:
      CHAIN: alephzero-testnet
      CHAIN_PREFIX: 42
      RPC: wss://ws.test.azero.dev/
      GATEWAY: https://v2.archive.subsquid.io/network/aleph-zero-testnet
  api:
    cmd:
      [
        'npx',
        'squid-graphql-server',
        '--dumb-cache',
        'in-memory',
        '--dumb-cache-ttl',
        '1000',
        '--dumb-cache-size',
        '100',
        '--dumb-cache-max-age',
        '1000',
      ]

scale:
  dedicated: false
  processor:
    profile: small
  addons:
    postgres:
      storage: 5G
      profile: small
    rpc:
      max-rate: 100rps
  api:
    profile: small
